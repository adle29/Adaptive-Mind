define(["views/index","views/register","views/login","views/forgotpassword","views/desk","views/search","views/social","views/profile","views/group","views/edit","views/vinbookDoc","views/world","views/about","views/contact","views/settings","models/Account","models/Vinbook","models/vinBooksCollection","models/GroupCollection"],function(e,t,n,r,i,s,o,u,a,f,l,c,h,p,d,v,m,g,y){var b=Backbone.Router.extend({currentView:null,routes:{forgotpassword:"forgotpassword","vinbook/:id":"showVinbook","settings/:id":"settings",register:"register",login:"login",index:"index",about:"about",contact:"contact","desk/:id":"desk",search:"search","social/:id":"social","group/:id":"group","profile/:id":"profile","profile/:id/edit":"edit",world:"world","":"defaultRoute"},checkLogin:function(){var e;$.ajax("/account/authenticated",{method:"GET",success:function(){e=true},error:function(t){e=false}});if(!e){window.location.hash="login"}},changeView:function(e){if(null!=this.currentView){this.currentView.undelegateEvents()}this.currentView=e;this.currentView.render()},login:function(){this.changeView(new n)},index:function(){this.changeView(new e)},about:function(){this.changeView(new h)},contact:function(){this.changeView(new p)},forgotpassword:function(){this.changeView(new r)},register:function(){this.changeView(new t)},desk:function(e){var t=new v({id:e});this.changeView(new i({model:t}));t.fetch({error:function(e){window.location.hash="login"}})},showVinbook:function(e){var t=new v({id:"me"});this.changeView(new l({id:e,model:t}));t.fetch({error:function(e){}})},settings:function(e){var t=new v({id:"me"});this.changeView(new d({id:e,model:t}));t.fetch({error:function(e){}})},search:function(){var e=new v({id:"me"});this.changeView(new s({model:e}))},social:function(e){var t=new v({id:"me"});this.changeView(new o({model:t}));t.fetch({success:function(e){if(e.me=="me"){window.location.hash="login"}}})},group:function(e){var t=new v({id:"me"});var n;var r=new y;r.url="/accounts/me/group";r.fetch({error:function(e){window.location.hash="login"}});t.fetch({error:function(e){n=JSON.stringify(e)}});this.changeView(new a({model:t,collection:r,id:e}))},profile:function(e){var t=new v({id:e});t.fetch({error:function(e){console.log("error"+JSON.stringify(e))}});this.changeView(new u({model:t}))},edit:function(e){var t=new v({id:e});t.fetch({success:function(e){if(e.me=="me"){window.location.hash="login"}}});this.changeView(new f({model:t}))},world:function(){this.changeView(new c)},defaultRoute:function(t){this.changeView(new e)}});return new b})